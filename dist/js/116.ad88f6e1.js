"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[116],{9116:function(t,i,u){u.r(i),u.d(i,{default:function(){return z}});var l=u(3396),o=u(7139);const s={class:"product-container"},e={class:"breadcrumb"},a=(0,l.Uk)("首頁"),c=(0,l.Uk)("好運商品"),r={class:"box"},n={class:"banner"},p=["src","alt"],d=["src","alt"],h=["src","alt"],m=["src","alt"],w={class:"text"},_={class:"count"},g=["value"],f=(0,l.Uk)(" 購物車");function v(t,i,u,v,S,b){const k=(0,l.up)("Loading"),W=(0,l.up)("SideCart"),y=(0,l.up)("router-link"),$=(0,l.up)("SwiperSlide"),C=(0,l.up)("Swiper"),z=(0,l.up)("font-awesome-icon"),x=(0,l.up)("Qa");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(k,{active:t.isLoading},null,8,["active"]),(0,l.Wm)(W),(0,l._)("div",s,[(0,l._)("ol",e,[(0,l._)("li",null,[(0,l.Wm)(y,{to:"/"},{default:(0,l.w5)((()=>[a])),_:1})]),(0,l._)("li",null,[(0,l.Wm)(y,{to:"/product/index"},{default:(0,l.w5)((()=>[c])),_:1})]),(0,l._)("li",null,(0,o.zw)(S.product.title),1)]),(0,l._)("div",r,[(0,l._)("div",n,[(0,l.Wm)(C,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},loop:!1,thumbs:{swiper:S.thumbsSwiper},navigation:!0,autoplay:{delay:3500,disableOnInteraction:!1},direction:"horizontal",class:"mySwiper2"},{default:(0,l.w5)((()=>[(0,l.Wm)($,null,{default:(0,l.w5)((()=>[(0,l._)("img",{src:S.product.imageUrl,alt:S.product.title,class:"img-fluid"},null,8,p)])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(S.product.images,((t,i)=>((0,l.wg)(),(0,l.j4)($,{key:t},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t,alt:`${S.product.title} ${i}`,class:"img-fluid"},null,8,d)])),_:2},1024)))),128))])),_:1},8,["thumbs"]),(0,l.Wm)(C,{onSwiper:b.setThumbsSwiper,loop:!1,slidesPerView:4,spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"horizontal",class:"mySwiper"},{default:(0,l.w5)((()=>[(0,l.Wm)($,null,{default:(0,l.w5)((()=>[(0,l._)("img",{src:S.product.imageUrl,alt:S.product.title,class:"img-fluid"},null,8,h)])),_:1}),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(S.product.images,((t,i)=>((0,l.wg)(),(0,l.j4)($,{key:t},{default:(0,l.w5)((()=>[(0,l._)("img",{src:t,alt:`${S.product.title} ${i}`,class:"img-fluid"},null,8,m)])),_:2},1024)))),128))])),_:1},8,["onSwiper"])]),(0,l._)("div",w,[(0,l._)("h2",null,(0,o.zw)(S.product.title),1),(0,l._)("h3",null,(0,o.zw)(S.product.description),1),(0,l._)("h4",null,(0,o.zw)(S.product.content),1),(0,l._)("h5",null,"$"+(0,o.zw)(S.product.origin_price)+" 元 / "+(0,o.zw)(S.product.unit),1),(0,l._)("div",_,[(0,l._)("button",{onClick:i[0]||(i[0]=(...t)=>b.minus&&b.minus(...t))},[(0,l.Wm)(z,{icon:["fas","minus"]})]),(0,l._)("input",{type:"number",min:"1",value:S.count},null,8,g),(0,l._)("button",{onClick:i[1]||(i[1]=(...t)=>b.plus&&b.plus(...t))},[(0,l.Wm)(z,{icon:["fas","plus"]})])]),(0,l._)("button",{class:"add-cart",onClick:i[2]||(i[2]=t=>b.addToCart(S.product.id))},[(0,l.Wm)(z,{icon:["fas","cart-plus"]}),f])])])]),(0,l.Wm)(x)],64)}var S=u(4264),b=u(2679),k=u(8008),W=u(9231);W.ZP.use([W.W_,W.o3,W.pt,W.tl]);var y={components:{Swiper:k.tq,SwiperSlide:k.o5,SideCart:S.Z,Qa:b.Z},data(){return{product:{},id:"",count:1,thumbsSwiper:null}},methods:{setThumbsSwiper(t){this.thumbsSwiper=t},plus(){this.count+=1},minus(){this.count>1&&(this.count-=1)},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const i="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/cart",u={product_id:t,qty:this.count};this.$http.post(i,{data:u}).then((t=>{this.$httpMessageState(t,"加入購物車"),this.$router.push("/product/index")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},$=u(89);const C=(0,$.Z)(y,[["render",v],["__scopeId","data-v-487f1740"]]);var z=C}}]);
//# sourceMappingURL=116.ad88f6e1.js.map