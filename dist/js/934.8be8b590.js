"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[934],{2934:function(l,t,r){r.r(t),r.d(t,{default:function(){return Y}});var e=r(3396),d=r(9242),u=r(7139);const n=l=>((0,e.dD)("data-v-e039ffec"),l=l(),(0,e.Cn)(),l),s={class:"wrap"},a={class:"cart-container"},o=n((()=>(0,e._)("h2",null,"填寫資料",-1))),c=n((()=>(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Uk)("Step1"),(0,e._)("br"),(0,e.Uk)("購物內容")]),(0,e._)("li",null,[(0,e.Uk)("Step2"),(0,e._)("br"),(0,e.Uk)("填寫資料")]),(0,e._)("li",null,[(0,e.Uk)("Step3"),(0,e._)("br"),(0,e.Uk)("完成訂單")])],-1))),i={class:"check"},_={class:"cart"},p=n((()=>(0,e._)("h3",null,"購物清單",-1))),h={class:"cart-box"},k={class:"cart"},v=n((()=>(0,e._)("h3",null,"訂購資料",-1))),w={class:"cart-box"},f=n((()=>(0,e._)("td",null,"訂購姓名：",-1))),b=n((()=>(0,e._)("td",null,null,-1))),g=n((()=>(0,e._)("td",null,"訂購信箱：",-1))),y=n((()=>(0,e._)("td",null,null,-1))),z=n((()=>(0,e._)("td",null,"聯絡電話：",-1))),D=n((()=>(0,e._)("td",null,null,-1))),m=n((()=>(0,e._)("td",null,"收件地址：",-1))),I=n((()=>(0,e._)("td",null,null,-1))),O=n((()=>(0,e._)("td",null,"付款狀態：",-1))),U={key:0},$={key:1,class:"text-success"},x=n((()=>(0,e._)("td",null,null,-1))),S={key:0,class:"cart-footer"},C=n((()=>(0,e._)("button",{class:"check-out"},"立即付款",-1))),q=[C];function H(l,t,r,n,C,H){return(0,e.wg)(),(0,e.iD)("div",s,[(0,e._)("div",a,[o,c,(0,e._)("div",i,[(0,e._)("form",{onSubmit:t[0]||(t[0]=(0,d.iM)(((...l)=>H.payOrder&&H.payOrder(...l)),["prevent"]))},[(0,e._)("div",_,[p,(0,e._)("div",h,[(0,e._)("table",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(C.order.products,(l=>((0,e.wg)(),(0,e.iD)("tr",{key:l.id},[(0,e._)("td",null,(0,u.zw)(l.product.title),1),(0,e._)("td",null,(0,u.zw)(l.qty)+"/"+(0,u.zw)(l.product.unit),1),(0,e._)("td",null,(0,u.zw)(l.final_total),1)])))),128))])]),(0,e._)("h4",null,"總計：$"+(0,u.zw)(C.order.total)+"元",1)]),(0,e._)("div",k,[v,(0,e._)("div",w,[(0,e._)("table",null,[(0,e._)("tr",null,[f,(0,e._)("td",null,(0,u.zw)(C.order.user.name),1),b]),(0,e._)("tr",null,[g,(0,e._)("td",null,(0,u.zw)(C.order.user.email),1),y]),(0,e._)("tr",null,[z,(0,e._)("td",null,(0,u.zw)(C.order.user.tel),1),D]),(0,e._)("tr",null,[m,(0,e._)("td",null,(0,u.zw)(C.order.user.address),1),I]),(0,e._)("tr",null,[O,(0,e._)("td",null,[C.order.is_paid?((0,e.wg)(),(0,e.iD)("span",$,"付款完成")):((0,e.wg)(),(0,e.iD)("span",U,"尚未付款"))]),x])])]),!1===C.order.is_paid?((0,e.wg)(),(0,e.iD)("div",S,q)):(0,e.kq)("",!0)])],32)])])])}var K={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const l=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/order/${this.orderId}`;this.$http.get(l).then((l=>{l.data.success&&(this.order=l.data.order)}))},payOrder(){const l=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/pay/${this.orderId}`;this.$http.post(l).then((l=>{l.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},L=r(89);const M=(0,L.Z)(K,[["render",H],["__scopeId","data-v-e039ffec"]]);var Y=M}}]);
//# sourceMappingURL=934.8be8b590.js.map