"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[855],{1855:function(l,t,r){r.r(t),r.d(t,{default:function(){return M}});var e=r(3396),d=r(9242),n=r(7139);const u=l=>((0,e.dD)("data-v-583a5a5a"),l=l(),(0,e.Cn)(),l),a={class:"wrap"},s={class:"cart-container"},o=u((()=>(0,e._)("h2",null,"填寫資料",-1))),i=u((()=>(0,e._)("ul",null,[(0,e._)("li",null,[(0,e.Uk)("Step1"),(0,e._)("br"),(0,e.Uk)("購物內容")]),(0,e._)("li",null,[(0,e.Uk)("Step2"),(0,e._)("br"),(0,e.Uk)("填寫資料")]),(0,e._)("li",null,[(0,e.Uk)("Step3"),(0,e._)("br"),(0,e.Uk)("完成訂單")])],-1))),c={class:"check"},_={class:"cart"},p=u((()=>(0,e._)("h3",null,"購物清單",-1))),h={class:"cart-box"},v={class:"cart"},k=u((()=>(0,e._)("h3",null,"訂購資料",-1))),w={class:"cart-box"},g=u((()=>(0,e._)("td",null,"訂購姓名：",-1))),b=u((()=>(0,e._)("td",null,null,-1))),y=u((()=>(0,e._)("td",null,"訂購信箱：",-1))),f=u((()=>(0,e._)("td",null,null,-1))),z=u((()=>(0,e._)("td",null,"聯絡電話：",-1))),m=u((()=>(0,e._)("td",null,null,-1))),D=u((()=>(0,e._)("td",null,"收件地址：",-1))),I=u((()=>(0,e._)("td",null,null,-1))),O=u((()=>(0,e._)("td",null,"付款狀態：",-1))),U={key:0},$={key:1,class:"text-success"},x=u((()=>(0,e._)("td",null,null,-1))),S={key:0,class:"cart-footer"},C=u((()=>(0,e._)("button",{class:"check-out"},"立即付款",-1))),L=[C];function q(l,t,r,u,C,q){const H=(0,e.up)("Loading");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(H,{active:C.isLoading},null,8,["active"]),(0,e._)("div",a,[(0,e._)("div",s,[o,i,(0,e._)("div",c,[(0,e._)("form",{onSubmit:t[0]||(t[0]=(0,d.iM)(((...l)=>q.payOrder&&q.payOrder(...l)),["prevent"]))},[(0,e._)("div",_,[p,(0,e._)("div",h,[(0,e._)("table",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(C.order.products,(l=>((0,e.wg)(),(0,e.iD)("tr",{key:l.id},[(0,e._)("td",null,(0,n.zw)(l.product.title),1),(0,e._)("td",null,(0,n.zw)(l.qty)+"/"+(0,n.zw)(l.product.unit),1),(0,e._)("td",null,(0,n.zw)(l.final_total),1)])))),128))])]),(0,e._)("h4",null,"總計：$"+(0,n.zw)(C.order.total)+"元",1)]),(0,e._)("div",v,[k,(0,e._)("div",w,[(0,e._)("table",null,[(0,e._)("tr",null,[g,(0,e._)("td",null,(0,n.zw)(C.order.user.name),1),b]),(0,e._)("tr",null,[y,(0,e._)("td",null,(0,n.zw)(C.order.user.email),1),f]),(0,e._)("tr",null,[z,(0,e._)("td",null,(0,n.zw)(C.order.user.tel),1),m]),(0,e._)("tr",null,[D,(0,e._)("td",null,(0,n.zw)(C.order.user.address),1),I]),(0,e._)("tr",null,[O,(0,e._)("td",null,[C.order.is_paid?((0,e.wg)(),(0,e.iD)("span",$,"付款完成")):((0,e.wg)(),(0,e.iD)("span",U,"尚未付款"))]),x])])]),!1===C.order.is_paid?((0,e.wg)(),(0,e.iD)("div",S,L)):(0,e.kq)("",!0)])],32)])])])],64)}var H={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const l=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/order/${this.orderId}`;this.$http.get(l).then((l=>{l.data.success&&(this.order=l.data.order)}))},payOrder(){const l=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/pay/${this.orderId}`;this.$http.post(l).then((l=>{l.data.success&&this.getOrder()}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Y=r(89);const K=(0,Y.Z)(H,[["render",q],["__scopeId","data-v-583a5a5a"]]);var M=K}}]);
//# sourceMappingURL=855.b5f468a8.js.map