"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[780],{1780:function(e,l,a){a.r(l),a.d(l,{default:function(){return D}});var s=a(3396),r=a(7139),t=a(9242);const o=e=>((0,s.dD)("data-v-571062cb"),e=e(),(0,s.Cn)(),e),i={class:"wrap"},c={class:"cart-container"},d=o((()=>(0,s._)("h2",null,"填寫資料",-1))),n=o((()=>(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Uk)("Step1"),(0,s._)("br"),(0,s.Uk)("購物內容")]),(0,s._)("li",null,[(0,s.Uk)("Step2"),(0,s._)("br"),(0,s.Uk)("填寫資料")]),(0,s._)("li",null,[(0,s.Uk)("Step3"),(0,s._)("br"),(0,s.Uk)("完成訂單")])],-1))),u={class:"check"},m={class:"cart"},p=o((()=>(0,s._)("h3",null,"購物清單",-1))),f={class:"form"},_=o((()=>(0,s._)("h3",null,"訂單資料",-1))),h={class:"form-box"},v=o((()=>(0,s._)("label",{for:"name",class:"form-label"},"收件人姓名",-1))),b={class:"form-box"},g=o((()=>(0,s._)("label",{for:"email",class:"form-label"},"Email",-1))),k={class:"form-box"},w=o((()=>(0,s._)("label",{for:"tel",class:"form-label"},"收件人電話",-1))),V={class:"form-box"},x=o((()=>(0,s._)("label",{for:"address",class:"form-label"},"收件人地址",-1))),y={class:"form-box"},U=o((()=>(0,s._)("label",{for:"message",class:"form-label"},"留言",-1))),W={class:"cart-footer"},C=(0,s.Uk)("修改購物車"),$=o((()=>(0,s._)("button",{class:"check-out"},"送出訂單",-1)));function L(e,l,a,o,L,q){const S=(0,s.up)("Loading"),z=(0,s.up)("Field"),D=(0,s.up)("ErrorMessage"),E=(0,s.up)("router-link"),F=(0,s.up)("Form");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(S,{active:e.isLoading},null,8,["active"]),(0,s._)("div",i,[(0,s._)("div",c,[d,n,(0,s._)("div",u,[(0,s._)("div",m,[p,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(L.cart.carts,(l=>((0,s.wg)(),(0,s.iD)("div",{class:"cart-box",key:l.id},[(0,s._)("table",null,[(0,s._)("tr",null,[(0,s._)("td",null,(0,r.zw)(l.product.title),1),(0,s._)("td",null,(0,r.zw)(l.qty),1),(0,s._)("td",null,"$"+(0,r.zw)(e.$filters.currency(l.final_total)),1)])])])))),128)),(0,s._)("h4",null,"總計：$"+(0,r.zw)(e.$filters.currency(L.cart.final_total))+"元",1)]),(0,s._)("div",f,[_,(0,s.Wm)(F,{onSubmit:q.createOrder},{default:(0,s.w5)((({errors:e})=>[(0,s._)("div",h,[v,(0,s.Wm)(z,{id:"name",name:"姓名",type:"text",class:(0,r.C_)(["form-control",{"is-invalid":e["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:L.form.user.name,"onUpdate:modelValue":l[0]||(l[0]=e=>L.form.user.name=e)},null,8,["class","modelValue"]),(0,s.Wm)(D,{name:"姓名",class:"invalid-feedback"})]),(0,s._)("div",b,[g,(0,s.Wm)(z,{id:"email",name:"email",type:"email",class:(0,r.C_)(["form-control",{"is-invalid":e["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:L.form.user.email,"onUpdate:modelValue":l[1]||(l[1]=e=>L.form.user.email=e)},null,8,["class","modelValue"]),(0,s.Wm)(D,{name:"email",class:"invalid-feedback"})]),(0,s._)("div",k,[w,(0,s.Wm)(z,{id:"tel",name:"電話",type:"tel",class:(0,r.C_)(["form-control",{"is-invalid":e["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:L.form.user.tel,"onUpdate:modelValue":l[2]||(l[2]=e=>L.form.user.tel=e)},null,8,["class","modelValue"]),(0,s.Wm)(D,{name:"電話",class:"invalid-feedback"})]),(0,s._)("div",V,[x,(0,s.Wm)(z,{id:"address",name:"地址",type:"text",class:(0,r.C_)(["form-control",{"is-invalid":e["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:L.form.user.address,"onUpdate:modelValue":l[3]||(l[3]=e=>L.form.user.address=e)},null,8,["class","modelValue"]),(0,s.Wm)(D,{name:"地址",class:"invalid-feedback"})]),(0,s._)("div",y,[U,(0,s.wy)((0,s._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":l[4]||(l[4]=e=>L.form.message=e)},null,512),[[t.nr,L.form.message]])]),(0,s._)("div",W,[(0,s.Wm)(E,{to:"/final/cart"},{default:(0,s.w5)((()=>[C])),_:1}),$])])),_:1},8,["onSubmit"])])])])])],64)}var q={data(){return{products:[],product:{},status:{loadingItem:""},cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getProducts(){const e="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/products/all";this.isLoading=!0,this.$http.get(e).then((e=>{this.isLoading=!1,this.products=e.data.products}))},getCart(){const e="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/cart";this.isLoading=!0,this.$http.get(e).then((e=>{this.cart=e.data.data,this.isLoading=!1}))},createOrder(){const e="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/order",l=this.form;this.$http.post(e,{data:l}).then((e=>{}))}},created(){this.getProducts(),this.getCart()}},S=a(89);const z=(0,S.Z)(q,[["render",L],["__scopeId","data-v-571062cb"]]);var D=z}}]);
//# sourceMappingURL=780.1b1e528d.js.map