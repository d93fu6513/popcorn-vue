"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[8],{5008:function(l,t,r){r.r(t),r.d(t,{default:function(){return M}});var d=r(3396),e=r(9242),n=r(7139);const s=l=>((0,d.dD)("data-v-22c848dc"),l=l(),(0,d.Cn)(),l),u={class:"wrap"},a={class:"cart-container"},i=s((()=>(0,d._)("h2",null,"填寫資料",-1))),o=s((()=>(0,d._)("ul",null,[(0,d._)("li",null,[(0,d.Uk)("Step1"),(0,d._)("br"),(0,d.Uk)("購物內容")]),(0,d._)("li",null,[(0,d.Uk)("Step2"),(0,d._)("br"),(0,d.Uk)("填寫資料")]),(0,d._)("li",null,[(0,d.Uk)("Step3"),(0,d._)("br"),(0,d.Uk)("完成訂單")])],-1))),c={class:"check"},_={class:"cart"},p=s((()=>(0,d._)("h3",null,"購物清單",-1))),h={class:"cart-box"},v={class:"cart"},k=s((()=>(0,d._)("h3",null,"訂購資料",-1))),w={class:"cart-box"},g=s((()=>(0,d._)("td",null,"訂購姓名：",-1))),b=s((()=>(0,d._)("td",null,null,-1))),y=s((()=>(0,d._)("td",null,"訂購信箱：",-1))),f=s((()=>(0,d._)("td",null,null,-1))),z=s((()=>(0,d._)("td",null,"聯絡電話：",-1))),m=s((()=>(0,d._)("td",null,null,-1))),D=s((()=>(0,d._)("td",null,"收件地址：",-1))),L=s((()=>(0,d._)("td",null,null,-1))),I=s((()=>(0,d._)("td",null,"付款狀態：",-1))),O={key:0},U={key:1,class:"text-success"},$=s((()=>(0,d._)("td",null,null,-1))),x={key:0,class:"cart-footer"},S=s((()=>(0,d._)("button",{class:"check-out"},"立即付款",-1))),C=[S];function q(l,t,r,s,S,q){const H=(0,d.up)("Loading");return(0,d.wg)(),(0,d.iD)(d.HY,null,[(0,d.Wm)(H,{active:S.isLoading},null,8,["active"]),(0,d._)("div",u,[(0,d._)("div",a,[i,o,(0,d._)("div",c,[(0,d._)("form",{onSubmit:t[0]||(t[0]=(0,e.iM)(((...l)=>q.payOrder&&q.payOrder(...l)),["prevent"]))},[(0,d._)("div",_,[p,(0,d._)("div",h,[(0,d._)("table",null,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(S.order.products,(l=>((0,d.wg)(),(0,d.iD)("tr",{key:l.id},[(0,d._)("td",null,(0,n.zw)(l.product.title),1),(0,d._)("td",null,(0,n.zw)(l.qty)+"/"+(0,n.zw)(l.product.unit),1),(0,d._)("td",null,(0,n.zw)(l.final_total),1)])))),128))])]),(0,d._)("h3",null,"總計：$"+(0,n.zw)(S.order.total)+"元",1)]),(0,d._)("div",v,[k,(0,d._)("div",w,[(0,d._)("table",null,[(0,d._)("tr",null,[g,(0,d._)("td",null,(0,n.zw)(S.order.user.name),1),b]),(0,d._)("tr",null,[y,(0,d._)("td",null,(0,n.zw)(S.order.user.email),1),f]),(0,d._)("tr",null,[z,(0,d._)("td",null,(0,n.zw)(S.order.user.tel),1),m]),(0,d._)("tr",null,[D,(0,d._)("td",null,(0,n.zw)(S.order.user.address),1),L]),(0,d._)("tr",null,[I,(0,d._)("td",null,[S.order.is_paid?((0,d.wg)(),(0,d.iD)("span",U,"付款完成")):((0,d.wg)(),(0,d.iD)("span",O,"尚未付款"))]),$])])]),!1===S.order.is_paid?((0,d.wg)(),(0,d.iD)("div",x,C)):(0,d.kq)("",!0)])],32)])])])],64)}var H={data(){return{order:{user:{}},orderId:"",isLoading:!1}},methods:{getOrder(){const l=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/order/${this.orderId}`;this.isLoading=!0,this.$http.get(l).then((l=>{l.data.success&&(this.order=l.data.order,this.isLoading=!1)}))},payOrder(){const l=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(l).then((l=>{l.data.success&&(this.getOrder(),this.isLoading=!1)}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Y=r(89);const K=(0,Y.Z)(H,[["render",q],["__scopeId","data-v-22c848dc"]]);var M=K}}]);
//# sourceMappingURL=8.8769843d.js.map