"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[151],{151:function(t,i,u){u.r(i),u.d(i,{default:function(){return z}});var s=u(3396),l=u(7139);const o={class:"product-container"},e={class:"breadcrumb"},c=(0,s.Uk)("首頁"),a=(0,s.Uk)("好運商品"),r={class:"box"},n={class:"banner"},p=["src","alt"],d=["src","alt"],h=["src","alt"],m=["src","alt"],w={class:"text"},_={class:"count"},g=["value"],f=(0,s.Uk)(" 購物車 ");function b(t,i,u,b,v,S){const k=(0,s.up)("Loading"),W=(0,s.up)("SideCart"),y=(0,s.up)("router-link"),$=(0,s.up)("SwiperSlide"),C=(0,s.up)("Swiper"),z=(0,s.up)("font-awesome-icon"),x=(0,s.up)("Qa");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(k,{active:t.isLoading},null,8,["active"]),(0,s.Wm)(W),(0,s._)("div",o,[(0,s._)("ol",e,[(0,s._)("li",null,[(0,s.Wm)(y,{to:"/"},{default:(0,s.w5)((()=>[c])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(y,{to:"/product/index"},{default:(0,s.w5)((()=>[a])),_:1})]),(0,s._)("li",null,(0,l.zw)(v.product.title),1)]),(0,s._)("div",r,[(0,s._)("div",n,[(0,s.Wm)(C,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},loop:!1,thumbs:{swiper:v.thumbsSwiper},navigation:!0,autoplay:{delay:3500,disableOnInteraction:!1},direction:"horizontal",class:"mySwiper2"},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s._)("img",{src:v.product.imageUrl,alt:v.product.title,class:"img-fluid"},null,8,p)])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.product.images,((t,i)=>((0,s.wg)(),(0,s.j4)($,{key:t},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t,alt:`${v.product.title} ${i}`,class:"img-fluid"},null,8,d)])),_:2},1024)))),128))])),_:1},8,["thumbs"]),(0,s.Wm)(C,{onSwiper:S.setThumbsSwiper,loop:!1,slidesPerView:4,spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"horizontal",class:"mySwiper"},{default:(0,s.w5)((()=>[(0,s.Wm)($,null,{default:(0,s.w5)((()=>[(0,s._)("img",{src:v.product.imageUrl,alt:v.product.title,class:"img-fluid"},null,8,h)])),_:1}),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(v.product.images,((t,i)=>((0,s.wg)(),(0,s.j4)($,{key:t},{default:(0,s.w5)((()=>[(0,s._)("img",{src:t,alt:`${v.product.title} ${i}`,class:"img-fluid"},null,8,m)])),_:2},1024)))),128))])),_:1},8,["onSwiper"])]),(0,s._)("div",w,[(0,s._)("h2",null,(0,l.zw)(v.product.title),1),(0,s._)("h3",null,(0,l.zw)(v.product.description),1),(0,s._)("h4",null,(0,l.zw)(v.product.content),1),(0,s._)("h5",null,"$"+(0,l.zw)(v.product.origin_price)+" 元 / "+(0,l.zw)(v.product.unit),1),(0,s._)("div",_,[(0,s._)("button",{onClick:i[0]||(i[0]=(...t)=>S.minus&&S.minus(...t))},[(0,s.Wm)(z,{icon:["fas","minus"]})]),(0,s._)("input",{type:"number",min:"1",value:v.count},null,8,g),(0,s._)("button",{onClick:i[1]||(i[1]=(...t)=>S.plus&&S.plus(...t))},[(0,s.Wm)(z,{icon:["fas","plus"]})])]),(0,s._)("button",{class:"add-cart",onClick:i[2]||(i[2]=t=>S.addToCart(v.product.id))},[(0,s.Wm)(z,{icon:["fas","cart-plus"]}),f])])])]),(0,s.Wm)(x)],64)}var v=u(6151),S=u(9893),k=u(8008),W=u(9231);W.ZP.use([W.W_,W.o3,W.pt,W.tl]);var y={components:{Swiper:k.tq,SwiperSlide:k.o5,SideCart:v.Z,Qa:S.Z},data(){return{product:{},id:"",count:1,thumbsSwiper:null}},methods:{setThumbsSwiper(t){this.thumbsSwiper=t},plus(){this.count+=1},minus(){this.count>1&&(this.count-=1)},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.product=t.data.product,this.isLoading=!1)}))},addToCart(t){const i="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/cart",u={product_id:t,qty:this.count};this.$http.post(i,{data:u}).then((t=>{this.$httpMessageState(t,"加入購物車"),this.$router.push("/product/index")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},$=u(89);const C=(0,$.Z)(y,[["render",b],["__scopeId","data-v-5708b6dc"]]);var z=C}}]);
//# sourceMappingURL=151.96ae1170.js.map