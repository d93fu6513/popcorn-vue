{"version":3,"file":"js/576.449670a1.js","mappings":"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","sources":["webpack://popcorn-vue/./src/views/FinalCheck.vue","webpack://popcorn-vue/./src/views/FinalCheck.vue?3052"],"sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"wrap\">\r\n    <div class=\"cart-container\">\r\n      <h2>填寫資料</h2>\r\n      <ul>\r\n        <li>Step1<br />購物內容</li>\r\n        <li>Step2<br />填寫資料</li>\r\n        <li>Step3<br />完成訂單</li>\r\n      </ul>\r\n      <div class=\"check\">\r\n        <div class=\"cart\">\r\n          <h3>購物清單</h3>\r\n          <div class=\"cart-box\" v-for=\"item in cart.carts\" :key=\"item.id\">\r\n            <table>\r\n              <tr>\r\n                <td>{{ item.product.title }}</td>\r\n                <td>{{ item.qty }}</td>\r\n                <td>${{ $filters.currency(item.final_total) }}</td>\r\n              </tr>\r\n            </table>\r\n          </div>\r\n          <h3>總計：${{ $filters.currency(cart.final_total) }}元</h3>\r\n        </div>\r\n        <div class=\"form\">\r\n          <h3>訂單資料</h3>\r\n          <Form v-slot=\"{ errors }\" @submit=\"createOrder\">\r\n            <div class=\"form-box\">\r\n              <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n              <Field\r\n                id=\"name\"\r\n                name=\"姓名\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                placeholder=\"請輸入姓名\"\r\n                rules=\"required\"\r\n                v-model=\"form.user.name\"\r\n              ></Field>\r\n              <ErrorMessage name=\"姓名\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"form-box\">\r\n              <label for=\"email\" class=\"form-label\">Email</label>\r\n              <Field\r\n                id=\"email\"\r\n                name=\"email\"\r\n                type=\"email\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['email'] }\"\r\n                placeholder=\"請輸入 Email\"\r\n                rules=\"email|required\"\r\n                v-model=\"form.user.email\"\r\n              ></Field>\r\n              <ErrorMessage\r\n                name=\"email\"\r\n                class=\"invalid-feedback\"\r\n              ></ErrorMessage>\r\n            </div>\r\n            <div class=\"form-box\">\r\n              <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n              <Field\r\n                id=\"tel\"\r\n                name=\"電話\"\r\n                type=\"tel\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                placeholder=\"請輸入電話\"\r\n                rules=\"required\"\r\n                v-model=\"form.user.tel\"\r\n              ></Field>\r\n              <ErrorMessage name=\"電話\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"form-box\">\r\n              <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n              <Field\r\n                id=\"address\"\r\n                name=\"地址\"\r\n                type=\"text\"\r\n                class=\"form-control\"\r\n                :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                placeholder=\"請輸入地址\"\r\n                rules=\"required\"\r\n                v-model=\"form.user.address\"\r\n              ></Field>\r\n              <ErrorMessage name=\"地址\" class=\"invalid-feedback\"></ErrorMessage>\r\n            </div>\r\n            <div class=\"form-box\">\r\n              <label for=\"message\" class=\"form-label\">留言</label>\r\n              <textarea\r\n                name=\"\"\r\n                id=\"message\"\r\n                class=\"form-control\"\r\n                cols=\"30\"\r\n                rows=\"10\"\r\n                v-model=\"form.message\"\r\n              ></textarea>\r\n            </div>\r\n            <div class=\"cart-footer\">\r\n              <router-link to=\"/final/cart\">修改購物車</router-link>\r\n              <button class=\"check-out\">送出訂單</button>\r\n            </div>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      status: {\r\n        loadingItem: \"\", //對應品項id\r\n      },\r\n      cart: {},\r\n      form: {\r\n        user: {\r\n          name: \"\",\r\n          email: \"\",\r\n          tel: \"\",\r\n          address: \"\",\r\n        },\r\n        message: \"\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then((res) => {\r\n        this.products = res.data.products;\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getCart() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then((res) => {\r\n        this.cart = res.data.data;\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    createOrder() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\r\n      this.isLoading = true;\r\n      const order = this.form;\r\n      this.$http.post(url, { data: order }).then((res) => {\r\n        this.$httpMessageState(res, \"送出訂單\");\r\n        const orderId = res.data.orderId;\r\n        this.isLoading = false;\r\n        this.$router.push(`./checkout/${orderId}`);\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    this.getCart();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"@/assets/css/viewsScss/_finalcheck\";\r\n</style>","import { render } from \"./FinalCheck.vue?vue&type=template&id=56b941cc&scoped=true\"\nimport script from \"./FinalCheck.vue?vue&type=script&lang=js\"\nexport * from \"./FinalCheck.vue?vue&type=script&lang=js\"\n\nimport \"./FinalCheck.vue?vue&type=style&index=0&id=56b941cc&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\d93fu\\\\Desktop\\\\popcorn-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-56b941cc\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","for","_createVNode","_component_Loading","active","_ctx","_hoisted_3","_hoisted_4","_hoisted_7","_createElementBlock","_Fragment","_renderList","$data","carts","item","key","id","_toDisplayString","product","title","qty","currency","final_total","_hoisted_9","_component_Form","onSubmit","$options","errors","_hoisted_11","_component_Field","name","type","placeholder","rules","user","$event","_component_ErrorMessage","_hoisted_13","email","_hoisted_15","tel","_hoisted_17","address","_hoisted_19","cols","rows","message","_component_router_link","to","_hoisted_22","data","products","status","loadingItem","cart","form","methods","getProducts","url","this","isLoading","$http","get","then","res","getCart","createOrder","order","post","$httpMessageState","orderId","$router","push","created","__exports__","render"],"sourceRoot":""}