"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[815],{815:function(t,i,s){s.r(i),s.d(i,{default:function(){return z}});var u=s(3396),o=s(7139);const l={class:"product-container"},e={class:"breadcrumb"},a=(0,u.Uk)("首頁"),c=(0,u.Uk)("好運商品"),n={class:"box"},r={class:"banner"},p=["src","alt"],d=["src","alt"],h=["src","alt"],m=["src","alt"],w={class:"text"},_={class:"count"},g=["value"],f=(0,u.Uk)(" 購物車 ");function b(t,i,s,b,v,S){const k=(0,u.up)("Loading"),W=(0,u.up)("SideCart"),y=(0,u.up)("router-link"),$=(0,u.up)("SwiperSlide"),C=(0,u.up)("Swiper"),z=(0,u.up)("font-awesome-icon"),x=(0,u.up)("Qa");return(0,u.wg)(),(0,u.iD)(u.HY,null,[(0,u.Wm)(k,{active:t.isLoading},null,8,["active"]),(0,u.Wm)(W),(0,u._)("div",l,[(0,u._)("ol",e,[(0,u._)("li",null,[(0,u.Wm)(y,{to:"/"},{default:(0,u.w5)((()=>[a])),_:1})]),(0,u._)("li",null,[(0,u.Wm)(y,{to:"/product/index"},{default:(0,u.w5)((()=>[c])),_:1})]),(0,u._)("li",null,(0,o.zw)(v.product.title),1)]),(0,u._)("div",n,[(0,u._)("div",r,[(0,u.Wm)(C,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},loop:!1,thumbs:{swiper:v.thumbsSwiper},navigation:!0,autoplay:{delay:3500,disableOnInteraction:!1},direction:"horizontal",class:"mySwiper2"},{default:(0,u.w5)((()=>[(0,u.Wm)($,null,{default:(0,u.w5)((()=>[(0,u._)("img",{src:v.product.imageUrl,alt:v.product.title,class:"img-fluid"},null,8,p)])),_:1}),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(v.product.images,((t,i)=>((0,u.wg)(),(0,u.j4)($,{key:t},{default:(0,u.w5)((()=>[(0,u._)("img",{src:t,alt:`${v.product.title} ${i}`,class:"img-fluid"},null,8,d)])),_:2},1024)))),128))])),_:1},8,["thumbs"]),(0,u.Wm)(C,{onSwiper:S.setThumbsSwiper,loop:!1,slidesPerView:4,spaceBetween:10,watchSlidesVisibility:!0,watchSlidesProgress:!0,direction:"horizontal",class:"mySwiper"},{default:(0,u.w5)((()=>[(0,u.Wm)($,null,{default:(0,u.w5)((()=>[(0,u._)("img",{src:v.product.imageUrl,alt:v.product.title,class:"img-fluid"},null,8,h)])),_:1}),((0,u.wg)(!0),(0,u.iD)(u.HY,null,(0,u.Ko)(v.product.images,((t,i)=>((0,u.wg)(),(0,u.j4)($,{key:t},{default:(0,u.w5)((()=>[(0,u._)("img",{src:t,alt:`${v.product.title} ${i}`,class:"img-fluid"},null,8,m)])),_:2},1024)))),128))])),_:1},8,["onSwiper"])]),(0,u._)("div",w,[(0,u._)("h2",null,(0,o.zw)(v.product.title),1),(0,u._)("h3",null,(0,o.zw)(v.product.description),1),(0,u._)("h4",null,(0,o.zw)(v.product.content),1),(0,u._)("h5",null,"$"+(0,o.zw)(v.product.origin_price)+" 元 / "+(0,o.zw)(v.product.unit),1),(0,u._)("div",_,[(0,u._)("button",{onClick:i[0]||(i[0]=(...t)=>S.minus&&S.minus(...t))},[(0,u.Wm)(z,{icon:["fas","minus"]})]),(0,u._)("input",{type:"number",min:"1",value:v.count},null,8,g),(0,u._)("button",{onClick:i[1]||(i[1]=(...t)=>S.plus&&S.plus(...t))},[(0,u.Wm)(z,{icon:["fas","plus"]})])]),(0,u._)("button",{class:"add-cart",onClick:i[2]||(i[2]=t=>S.addToCart(v.product.id))},[(0,u.Wm)(z,{icon:["fas","cart-plus"]}),f])])])]),(0,u.Wm)(x)],64)}var v=s(6722),S=s(9893),k=s(8008),W=s(9231);W.ZP.use([W.W_,W.o3,W.pt,W.tl]);var y={components:{Swiper:k.tq,SwiperSlide:k.o5,SideCart:v.Z,Qa:S.Z},data(){return{product:{},id:"",count:1,thumbsSwiper:null}},methods:{setThumbsSwiper(t){this.thumbsSwiper=t},plus(){this.count+=1},minus(){this.count>1&&(this.count-=1)},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const i="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/cart";this.isLoading=!0;const s={product_id:t,qty:this.count};this.$http.post(i,{data:s}).then((t=>{this.isLoading=!1,this.$httpMessageState(t,"加入購物車"),this.$router.push("/product/index")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},$=s(89);const C=(0,$.Z)(y,[["render",b],["__scopeId","data-v-7b448622"]]);var z=C}}]);
//# sourceMappingURL=815.7d43569f.js.map