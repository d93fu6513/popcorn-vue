"use strict";(self["webpackChunkpopcorn_vue"]=self["webpackChunkpopcorn_vue"]||[]).push([[160],{3160:function(t,u,s){s.r(u),s.d(u,{default:function(){return P}});var e=s(3396),i=s(7139);const l={class:"product-container"},o={class:"breadcrumb"},c=(0,e.Uk)("首頁"),n=(0,e.Uk)("好運商品"),r={class:"box"},a={class:"banner"},d=["src"],p=["src"],m=["src"],_=["src"],h=["src"],w=["src"],g=["src"],f=["src"],v={class:"text"},W={class:"count"},b=["value"],S=(0,e.Uk)(" 購物車");function k(t,u,s,k,y,C){const $=(0,e.up)("Loading"),x=(0,e.up)("SideCart"),z=(0,e.up)("router-link"),U=(0,e.up)("swiper-slide"),L=(0,e.up)("swiper"),P=(0,e.up)("font-awesome-icon"),T=(0,e.up)("Qa");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)($,{active:t.isLoading},null,8,["active"]),(0,e.Wm)(x),(0,e._)("div",l,[(0,e._)("ol",o,[(0,e._)("li",null,[(0,e.Wm)(z,{to:"/"},{default:(0,e.w5)((()=>[c])),_:1})]),(0,e._)("li",null,[(0,e.Wm)(z,{to:"/product/index"},{default:(0,e.w5)((()=>[n])),_:1})]),(0,e._)("li",null,(0,i.zw)(y.product.title),1)]),(0,e._)("div",r,[(0,e._)("div",a,[(0,e.Wm)(L,{style:{"--swiper-navigation-color":"#fff","--swiper-pagination-color":"#fff"},spaceBetween:10,navigation:!0,thumbs:{swiper:k.thumbsSwiper},modules:k.modules,autoplay:{delay:2500,disableOnInteraction:!1},class:"mySwiper2"},{default:(0,e.w5)((()=>[(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.imageUrl},null,8,d)])),_:1}),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.images},null,8,p)])),_:1}),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.images},null,8,m)])),_:1}),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.images},null,8,_)])),_:1})])),_:1},8,["thumbs","modules"]),(0,e.Wm)(L,{onSwiper:k.setThumbsSwiper,spaceBetween:10,slidesPerView:4,freeMode:!0,watchSlidesProgress:!0,modules:k.modules,class:"mySwiper"},{default:(0,e.w5)((()=>[(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.imageUrl},null,8,h)])),_:1}),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.images},null,8,w)])),_:1}),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.images},null,8,g)])),_:1}),(0,e.Wm)(U,null,{default:(0,e.w5)((()=>[(0,e._)("img",{src:y.product.images},null,8,f)])),_:1})])),_:1},8,["onSwiper","modules"])]),(0,e._)("div",v,[(0,e._)("h2",null,(0,i.zw)(y.product.title),1),(0,e._)("h3",null,(0,i.zw)(y.product.description),1),(0,e._)("h4",null,(0,i.zw)(y.product.content),1),(0,e._)("h5",null,"$"+(0,i.zw)(y.product.origin_price)+" 元 / "+(0,i.zw)(y.product.unit),1),(0,e._)("div",W,[(0,e._)("button",{onClick:u[0]||(u[0]=(...t)=>C.minus&&C.minus(...t))},[(0,e.Wm)(P,{icon:["fas","minus"]})]),(0,e._)("input",{type:"number",min:"1",value:y.count},null,8,b),(0,e._)("button",{onClick:u[1]||(u[1]=(...t)=>C.plus&&C.plus(...t))},[(0,e.Wm)(P,{icon:["fas","plus"]})])]),(0,e._)("button",{class:"add-cart",onClick:u[2]||(u[2]=t=>C.addToCart(y.product.id))},[(0,e.Wm)(P,{icon:["fas","cart-plus"]}),S])])])]),(0,e.Wm)(T)],64)}var y=s(5432),C=s(3144),$=s(8008),x=s(9231),z={components:{Swiper:$.tq,SwiperSlide:$.o5,SideCart:y.Z,Qa:C.Z},setup(){let t=null;const u=u=>{t=u};return{thumbsSwiper:t,setThumbsSwiper:u,modules:[x.pt,x.Rv,x.W_,x.o3]}},data(){return{product:{},id:"",count:1}},methods:{plus(){this.count+=1},minus(){this.count>1&&(this.count-=1)},getProduct(){const t=`https://vue3-course-api.hexschool.io/api/luckypopcorn-api/product/${this.id}`;this.isLoading=!0,this.$http.get(t).then((t=>{console.log(t.data),this.isLoading=!1,t.data.success&&(this.product=t.data.product)}))},addToCart(t){const u="https://vue3-course-api.hexschool.io/api/luckypopcorn-api/cart",s={product_id:t,qty:this.count};this.$http.post(u,{data:s}).then((t=>{this.$httpMessageState(t,"加入購物車"),this.$router.push("/product/index")}))}},created(){this.id=this.$route.params.productId,this.getProduct()}},U=s(89);const L=(0,U.Z)(z,[["render",k],["__scopeId","data-v-1623e9a2"]]);var P=L}}]);
//# sourceMappingURL=160.6cce2b36.js.map